<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ Telegram Games Hub</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –°–ë–†–û–° –°–¢–ò–õ–ï–ô */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }
        
        /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† */
        .main-container {
            width: 100%;
            max-width: 800px;
        }
        
        /* –®–ê–ü–ö–ê */
        .header {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            text-align: center;
        }
        
        h1 {
            font-size: 36px;
            margin-bottom: 15px;
            color: #ffffff;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .balance {
            background: rgba(0, 255, 136, 0.2);
            border: 2px solid #00ff88;
            border-radius: 50px;
            padding: 12px 30px;
            font-size: 28px;
            font-weight: bold;
            color: #00ff88;
            display: inline-block;
            margin: 15px 0;
        }
        
        /* –ú–ï–ù–Æ –ò–ì–† */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .game-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            border: 2px solid transparent;
        }
        
        .game-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-5px);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .game-icon {
            font-size: 50px;
            margin-bottom: 15px;
        }
        
        .game-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #ffffff;
        }
        
        .game-description {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 15px;
            line-height: 1.4;
        }
        
        /* –≠–ö–†–ê–ù–´ –ò–ì–† */
        .screen {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .screen.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* –ö–ù–û–ü–ö–ê –ù–ê–ó–ê–î */
        .back-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* –ö–õ–ò–ö–ï–† */
        .clicker-container {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .stats-row {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        
        .stat {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            min-width: 120px;
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #00ff88;
        }
        
        .stat-label {
            font-size: 12px;
            opacity: 0.7;
            margin-top: 5px;
        }
        
        .click-btn {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(145deg, #ff0080, #ff8c00);
            border: none;
            color: white;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            margin: 30px auto;
            display: block;
            transition: transform 0.1s;
        }
        
        .click-btn:active {
            transform: scale(0.95);
        }
        
        /* –ü–û–ö–ï–† */
        .poker-table {
            background: linear-gradient(135deg, #1b5e20, #2e7d32);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
            border: 10px solid #5d4037;
        }
        
        .cards-row {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .card {
            width: 80px;
            height: 112px;
            background: white;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 8px;
            font-size: 20px;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .card.red {
            color: #d32f2f;
        }
        
        .card.black {
            color: #212121;
        }
        
        .card-back {
            background: linear-gradient(45deg, #d32f2f, #1976d2);
            color: white;
            justify-content: center;
            align-items: center;
            font-size: 30px;
        }
        
        /* –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø */
        .controls {
            display: flex;
            gap: 15px;
            margin: 25px 0;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            min-width: 140px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        /* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ */
        @media (max-width: 600px) {
            .games-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-row {
                flex-direction: column;
                gap: 10px;
                align-items: center;
            }
            
            .stat {
                width: 100%;
                max-width: 250px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ -->
        <div id="mainMenu" class="screen active">
            <div class="header">
                <h1>üéÆ –ò–ì–†–û–í–û–ô –•–ê–ë</h1>
                <div id="userInfo">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div class="balance">
                    üí∞ <span id="globalBalance">1000</span>
                </div>
                <p style="opacity: 0.8; margin-top: 10px;">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É!</p>
            </div>
            
            <div class="games-grid">
                <!-- –ö–õ–ò–ö–ï–† -->
                <div class="game-card" onclick="openGame('clicker')">
                    <div class="game-icon">üñ±Ô∏è</div>
                    <div class="game-title">CLICKER</div>
                    <div class="game-description">
                        –ö–ª–∏–∫–∞–π—Ç–µ –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –º–æ–Ω–µ—Ç—ã! –ü–æ–∫—É–ø–∞–π—Ç–µ —É–ª—É—á—à–µ–Ω–∏—è.
                    </div>
                    <div style="font-size: 12px; opacity: 0.7;">
                        üèÜ –†–µ–∫–æ—Ä–¥: <span id="clickerRecord">0</span>
                    </div>
                </div>
                
                <!-- –ü–û–ö–ï–† -->
                <div class="game-card" onclick="openGame('poker')">
                    <div class="game-icon">‚ô†Ô∏è</div>
                    <div class="game-title">POKER</div>
                    <div class="game-description">
                        –°—ã–≥—Ä–∞–π—Ç–µ –≤ –¢–µ—Ö–∞—Å—Å–∫–∏–π –•–æ–ª–¥–µ–º –ø—Ä–æ—Ç–∏–≤ –ò–ò!
                    </div>
                    <div style="font-size: 12px; opacity: 0.7;">
                        üè¶ –ë–∞–Ω–∫: <span id="pokerBank">500</span>
                    </div>
                </div>
                
                <!-- –°–õ–û–¢–´ -->
                <div class="game-card" onclick="showComingSoon()">
                    <div class="game-icon">üé∞</div>
                    <div class="game-title">–°–õ–û–¢–´</div>
                    <div class="game-description">
                        –ö—Ä—É—Ç–∏—Ç–µ –±–∞—Ä–∞–±–∞–Ω—ã –∏ –≤—ã–∏–≥—Ä—ã–≤–∞–π—Ç–µ –¥–∂–µ–∫–ø–æ—Ç!
                    </div>
                    <div style="font-size: 12px; opacity: 0.7;">
                        üîí –°–∫–æ—Ä–æ
                    </div>
                </div>
                
                <!-- –î–£–≠–õ–¨ -->
                <div class="game-card" onclick="showComingSoon()">
                    <div class="game-icon">üéØ</div>
                    <div class="game-title">–î–£–≠–õ–¨</div>
                    <div class="game-description">
                        1 –Ω–∞ 1 –±–∏—Ç–≤–∞ —Å –¥—Ä—É–∑—å—è–º–∏!
                    </div>
                    <div style="font-size: 12px; opacity: 0.7;">
                        üîí –°–∫–æ—Ä–æ
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="showComingSoon()">
                    üèÜ –õ–∏–¥–µ—Ä—ã
                </button>
                <button class="btn btn-secondary" onclick="showComingSoon()">
                    ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </button>
            </div>
        </div>
        
        <!-- –ò–ì–†–ê "–ö–õ–ò–ö–ï–†" -->
        <div id="clickerGame" class="screen">
            <button class="back-btn" onclick="backToMenu()">‚Üê</button>
            
            <div class="header">
                <h1>üñ±Ô∏è CLICKER</h1>
                <div class="balance">
                    üí∞ <span id="clickerBalance">0</span>
                </div>
            </div>
            
            <div class="clicker-container">
                <div class="stats-row">
                    <div class="stat">
                        <div class="stat-value" id="clickerCoins">0</div>
                        <div class="stat-label">–ö–û–ò–ù–´</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="clickerPower">1</div>
                        <div class="stat-label">–°–ò–õ–ê –ö–õ–ò–ö–ê</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="clickerCPS">0</div>
                        <div class="stat-label">–ö–õ–ò–ö–û–í/–°–ï–ö</div>
                    </div>
                </div>
                
                <button class="click-btn" id="clickerBtn">
                    <div>–ö–õ–ò–ö–ê–ô!</div>
                    <div style="font-size: 18px; margin-top: 10px;">+<span id="currentPower">1</span></div>
                </button>
                
                <div style="text-align: center; margin: 20px 0;">
                    <div style="margin-bottom: 10px;">
                        üéÅ –ë–æ–Ω—É—Å —á–µ—Ä–µ–∑: <span id="bonusCount">10</span> –∫–ª–∏–∫–æ–≤
                    </div>
                    <div style="background: rgba(255,255,255,0.1); height: 10px; border-radius: 5px;">
                        <div id="bonusBar" style="height: 100%; background: #00ff88; width: 0%; border-radius: 5px;"></div>
                    </div>
                </div>
                
                <h3 style="text-align: center; margin: 25px 0 15px 0; color: #00ff88;">–£–õ–£–ß–®–ï–ù–ò–Ø</h3>
                <div id="upgradesContainer" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <!-- –£–ª—É—á—à–µ–Ω–∏—è –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-primary" onclick="saveClicker()">
                    üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                <button class="btn btn-secondary" onclick="resetClicker()">
                    üîÑ –°–±—Ä–æ—Å–∏—Ç—å
                </button>
            </div>
        </div>
        
        <!-- –ò–ì–†–ê "–ü–û–ö–ï–†" -->
        <div id="pokerGame" class="screen">
            <button class="back-btn" onclick="backToMenu()">‚Üê</button>
            
            <div class="header">
                <h1>‚ô†Ô∏è POKER</h1>
                <div class="balance">
                    üí∞ <span id="pokerBalance">500</span>
                </div>
            </div>
            
            <div class="poker-table">
                <div id="pokerStatus" style="text-align: center; font-size: 18px; font-weight: bold; color: #ffeb3b; margin-bottom: 20px;">
                    –î–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É!
                </div>
                
                <h4 style="text-align: center; color: #ffeb3b; margin: 15px 0;">–í–ê–®–ò –ö–ê–†–¢–´</h4>
                <div class="cards-row" id="playerCards">
                    <!-- –ö–∞—Ä—Ç—ã –∏–≥—Ä–æ–∫–∞ -->
                </div>
                
                <h4 style="text-align: center; color: #ffeb3b; margin: 25px 0 15px 0;">–û–ë–©–ò–ï –ö–ê–†–¢–´</h4>
                <div class="cards-row" id="communityCards">
                    <!-- –û–±—â–∏–µ –∫–∞—Ä—Ç—ã -->
                </div>
                
                <h4 style="text-align: center; color: #ffeb3b; margin: 25px 0 15px 0;">–ö–ê–†–¢–´ –û–ü–ü–û–ù–ï–ù–¢–ê</h4>
                <div class="cards-row" id="opponentCards">
                    <!-- –ö–∞—Ä—Ç—ã –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ -->
                </div>
            </div>
            
            <div style="display: flex; justify-content: space-between; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 15px; margin: 20px 0;">
                <div style="text-align: center;">
                    <div style="font-size: 12px; opacity: 0.8;">–°–¢–ê–í–ö–ê</div>
                    <div style="font-size: 24px; font-weight: bold; color: #ff9800;" id="currentBet">10</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 12px; opacity: 0.8;">–ë–ê–ù–ö</div>
                    <div style="font-size: 24px; font-weight: bold; color: #4caf50;" id="potAmount">20</div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn" style="background: #ff9800;" onclick="pokerAction('bet')">
                    üé≤ –ü–æ–≤—ã—Å–∏—Ç—å
                </button>
                <button class="btn" style="background: #4caf50;" onclick="pokerAction('check')">
                    ‚úì –ß–µ–∫
                </button>
                <button class="btn" style="background: #f44336;" onclick="pokerAction('fold')">
                    ‚úï –§–æ–ª–¥
                </button>
            </div>
            
            <div style="margin-top: 20px;">
                <input type="range" id="betSlider" min="10" max="500" value="50" style="width: 100%;">
                <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                    <span>10</span>
                    <span>–°—Ç–∞–≤–∫–∞: <span id="betValue">50</span></span>
                    <span>500</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
        });
        
        function initApp() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram
            if (window.Telegram && Telegram.WebApp) {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
                
                // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
                const user = Telegram.WebApp.initDataUnsafe?.user;
                if (user) {
                    const userInfo = document.getElementById('userInfo');
                    userInfo.innerHTML = `üë§ ${user.first_name || '–ò–≥—Ä–æ–∫'}`;
                    if (user.username) {
                        userInfo.innerHTML += ` (@${user.username})`;
                    }
                }
            }
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
            loadGames();
            
            // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
            document.getElementById('clickerBtn').addEventListener('click', clickerClick);
            document.getElementById('betSlider').addEventListener('input', function() {
                document.getElementById('betValue').textContent = this.value;
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é
            showScreen('mainMenu');
        }
        
        // ========== –°–ò–°–¢–ï–ú–ê –≠–ö–†–ê–ù–û–í ==========
        function showScreen(screenId) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
            const screen = document.getElementById(screenId);
            if (screen) {
                screen.classList.add('active');
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä—É –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                if (screenId === 'clickerGame') {
                    initClicker();
                } else if (screenId === 'pokerGame') {
                    initPoker();
                }
            }
        }
        
        function openGame(gameName) {
            showScreen(gameName + 'Game');
        }
        
        function backToMenu() {
            showScreen('mainMenu');
        }
        
        // ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï ==========
        let globalBalance = 1000;
        let games = {
            clicker: {
                coins: 0,
                power: 1,
                clickCount: 0,
                upgrades: {
                    auto: { level: 0, cost: 10, power: 0.1 },
                    double: { level: 0, cost: 50, power: 2 },
                    mega: { level: 0, cost: 200, power: 10 }
                },
                record: 0
            },
            poker: {
                balance: 500,
                currentBet: 10,
                pot: 20
            }
        };
        
        // ========== –ò–ì–†–ê "–ö–õ–ò–ö–ï–†" ==========
        function initClicker() {
            updateClickerUI();
            
            // –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä –µ—Å–ª–∏ –µ—Å—Ç—å
            if (games.clicker.upgrades.auto.level > 0) {
                startAutoClicker();
            }
        }
        
        function clickerClick() {
            games.clicker.coins += games.clicker.power;
            games.clicker.clickCount++;
            
            // –ë–æ–Ω—É—Å –∫–∞–∂–¥—ã–µ 10 –∫–ª–∏–∫–æ–≤
            if (games.clicker.clickCount >= 10) {
                games.clicker.clickCount = 0;
                const bonus = games.clicker.power * 10;
                games.clicker.coins += bonus;
                showMessage(`üéâ –ë–æ–Ω—É—Å: +${bonus} –º–æ–Ω–µ—Ç!`);
            }
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∫–æ—Ä–¥
            if (games.clicker.coins > games.clicker.record) {
                games.clicker.record = Math.floor(games.clicker.coins);
            }
            
            updateClickerUI();
            saveGames();
        }
        
        function buyUpgrade(type) {
            const upgrade = games.clicker.upgrades[type];
            
            if (games.clicker.coins >= upgrade.cost) {
                games.clicker.coins -= upgrade.cost;
                upgrade.level++;
                
                if (type === 'auto') {
                    startAutoClicker();
                } else {
                    games.clicker.power += upgrade.power;
                }
                
                upgrade.cost = Math.floor(upgrade.cost * 1.5);
                updateClickerUI();
                showMessage('–£–ª—É—á—à–µ–Ω–∏–µ –∫—É–ø–ª–µ–Ω–æ!');
            } else {
                showMessage('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!');
            }
        }
        
        function startAutoClicker() {
            // –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
            if (window.autoClickerInterval) {
                clearInterval(window.autoClickerInterval);
            }
            
            // –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π
            window.autoClickerInterval = setInterval(() => {
                const autoCoins = games.clicker.upgrades.auto.level * games.clicker.upgrades.auto.power;
                if (autoCoins > 0) {
                    games.clicker.coins += autoCoins;
                    updateClickerUI();
                }
            }, 1000);
        }
        
        function updateClickerUI() {
            // –û–±–Ω–æ–≤–∏—Ç—å —Ü–∏—Ñ—Ä—ã
            document.getElementById('clickerBalance').textContent = 
            document.getElementById('clickerCoins').textContent = 
                Math.floor(games.clicker.coins);
            
            document.getElementById('clickerPower').textContent = 
            document.getElementById('currentPower').textContent = 
                games.clicker.power.toFixed(1);
            
            // –ê–≤—Ç–æ–∫–ª–∏–∫–∏ –≤ —Å–µ–∫—É–Ω–¥—É
            const cps = games.clicker.upgrades.auto.level * games.clicker.upgrades.auto.power;
            document.getElementById('clickerCPS').textContent = cps.toFixed(1);
            
            // –ü—Ä–æ–≥—Ä–µ—Å—Å –±–æ–Ω—É—Å–∞
            const progress = (games.clicker.clickCount / 10) * 100;
            document.getElementById('bonusBar').style.width = progress + '%';
            document.getElementById('bonusCount').textContent = 10 - games.clicker.clickCount;
            
            // –û–±–Ω–æ–≤–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏—è
            const container = document.getElementById('upgradesContainer');
            container.innerHTML = '';
            
            const upgrades = [
                { id: 'auto', name: 'ü§ñ –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä', desc: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª–∏–∫–∏' },
                { id: 'double', name: '‚ö° –£—Å–∏–ª–∏—Ç–µ–ª—å', desc: '+2 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞' },
                { id: 'mega', name: 'üí• –ú–µ–≥–∞-–∫–ª–∏–∫', desc: '+10 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞' }
            ];
            
            upgrades.forEach(upgrade => {
                const data = games.clicker.upgrades[upgrade.id];
                const canBuy = games.clicker.coins >= data.cost;
                
                const card = document.createElement('div');
                card.style.background = canBuy ? 'rgba(255,255,255,0.05)' : 'rgba(255,255,255,0.02)';
                card.style.padding = '15px';
                card.style.borderRadius = '12px';
                card.style.border = canBuy ? '2px solid rgba(0,255,136,0.5)' : '2px solid rgba(255,255,255,0.1)';
                card.style.cursor = canBuy ? 'pointer' : 'not-allowed';
                card.style.opacity = canBuy ? '1' : '0.6';
                
                card.innerHTML = `
                    <div style="font-size: 18px; font-weight: bold; margin-bottom: 8px;">${upgrade.name}</div>
                    <div style="font-size: 12px; opacity: 0.8; margin-bottom: 10px;">${upgrade.desc}</div>
                    <div style="color: ${canBuy ? '#00ff88' : '#ff4444'}; font-weight: bold; margin-bottom: 8px;">
                        üí∞ ${data.cost}
                    </div>
                    <div style="font-size: 11px; opacity: 0.7;">–£—Ä–æ–≤–µ–Ω—å: ${data.level}</div>
                `;
                
                if (canBuy) {
                    card.onclick = () => buyUpgrade(upgrade.id);
                }
                
                container.appendChild(card);
            });
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∫–æ—Ä–¥ –≤ –º–µ–Ω—é
            document.getElementById('clickerRecord').textContent = games.clicker.record;
        }
        
        function saveClicker() {
            saveGames();
            showMessage('–ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
        }
        
        function resetClicker() {
            if (confirm('–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ –∫–ª–∏–∫–µ—Ä–µ?')) {
                games.clicker = {
                    coins: 0,
                    power: 1,
                    clickCount: 0,
                    upgrades: {
                        auto: { level: 0, cost: 10, power: 0.1 },
                        double: { level: 0, cost: 50, power: 2 },
                        mega: { level: 0, cost: 200, power: 10 }
                    },
                    record: games.clicker.record
                };
                updateClickerUI();
                showMessage('–ò–≥—Ä–∞ —Å–±—Ä–æ—à–µ–Ω–∞!');
            }
        }
        
        // ========== –ò–ì–†–ê "–ü–û–ö–ï–†" ==========
        let pokerCards = {
            player: [],
            opponent: [],
            community: []
        };
        
        function initPoker() {
            startPokerGame();
        }
        
        function startPokerGame() {
            // –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—ã
            pokerCards.player = [getRandomCard(), getRandomCard()];
            pokerCards.opponent = [getRandomCard(), getRandomCard()];
            pokerCards.community = [];
            
            // –°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞–≤–∫–∏
            games.poker.currentBet = 10;
            games.poker.pot = 20;
            games.poker.balance -= 10;
            
            updatePokerUI();
        }
        
        function getRandomCard() {
            const suits = ['‚ô†Ô∏è', '‚ô•Ô∏è', '‚ô¶Ô∏è', '‚ô£Ô∏è'];
            const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
            
            return {
                suit: suits[Math.floor(Math.random() * suits.length)],
                value: values[Math.floor(Math.random() * values.length)],
                color: ['‚ô•Ô∏è', '‚ô¶Ô∏è'].includes(suit) ? 'red' : 'black'
            };
        }
        
        function pokerAction(action) {
            const betAmount = parseInt(document.getElementById('betSlider').value);
            
            switch(action) {
                case 'bet':
                    if (betAmount <= games.poker.balance) {
                        games.poker.balance -= betAmount;
                        games.poker.pot += betAmount;
                        games.poker.currentBet = betAmount;
                        showMessage(`–°—Ç–∞–≤–∫–∞: ${betAmount}`);
                        setTimeout(opponentTurn, 1000);
                    } else {
                        showMessage('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!');
                    }
                    break;
                    
                case 'check':
                    showMessage('–ß–µ–∫');
                    setTimeout(opponentTurn, 1000);
                    break;
                    
                case 'fold':
                    if (confirm('–°–±—Ä–æ—Å–∏—Ç—å –∫–∞—Ä—Ç—ã?')) {
                        showMessage('–í—ã —Å–±—Ä–æ—Å–∏–ª–∏ –∫–∞—Ä—Ç—ã');
                        setTimeout(startPokerGame, 1500);
                    }
                    break;
            }
            
            updatePokerUI();
        }
        
        function opponentTurn() {
            // –ü—Ä–æ—Å—Ç–∞—è –ò–ò
            setTimeout(() => {
                const actions = ['check', 'bet'];
                const action = actions[Math.floor(Math.random() * actions.length)];
                
                if (action === 'bet') {
                    const bet = Math.min(100, games.poker.balance);
                    games.poker.pot += bet;
                    showMessage(`ü§ñ –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ –ø–æ–≤—ã—à–∞–µ—Ç –Ω–∞ ${bet}`);
                } else {
                    showMessage('ü§ñ –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ —á–µ–∫');
                }
                
                updatePokerUI();
            }, 1500);
        }
        
        function updatePokerUI() {
            // –ë–∞–ª–∞–Ω—Å
            document.getElementById('pokerBalance').textContent = games.poker.balance;
            document.getElementById('pokerBank').textContent = games.poker.balance;
            
            // –°—Ç–∞–≤–∫–∏
            document.getElementById('currentBet').textContent = games.poker.currentBet;
            document.getElementById('potAmount').textContent = games.poker.pot;
            
            // –ö–∞—Ä—Ç—ã
            renderCards('playerCards', pokerCards.player, false);
            renderCards('communityCards', pokerCards.community, false);
            renderCards('opponentCards', pokerCards.opponent, true);
            
            // –°–ª–∞–π–¥–µ—Ä
            const slider = document.getElementById('betSlider');
            slider.max = Math.min(500, games.poker.balance);
        }
        
        function renderCards(containerId, cards, hidden) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            cards.forEach(card => {
                const cardEl = document.createElement('div');
                
                if (hidden) {
                    cardEl.className = 'card card-back';
                    cardEl.innerHTML = 'üÉè';
                } else {
                    cardEl.className = `card ${card.color}`;
                    cardEl.innerHTML = `
                        <div>${card.value}</div>
                        <div style="font-size: 24px; text-align: center;">${card.suit}</div>
                        <div style="transform: rotate(180deg);">${card.value}</div>
                    `;
                }
                
                container.appendChild(cardEl);
            });
        }
        
        // ========== –û–ë–©–ò–ï –§–£–ù–ö–¶–ò–ò ==========
        function saveGames() {
            localStorage.setItem('telegramGames', JSON.stringify(games));
            localStorage.setItem('globalBalance', globalBalance);
        }
        
        function loadGames() {
            const savedGames = localStorage.getItem('telegramGames');
            const savedBalance = localStorage.getItem('globalBalance');
            
            if (savedGames) {
                games = JSON.parse(savedGames);
            }
            
            if (savedBalance) {
                globalBalance = parseInt(savedBalance);
            }
            
            // –û–±–Ω–æ–≤–∏—Ç—å UI
            document.getElementById('globalBalance').textContent = globalBalance;
            document.getElementById('clickerRecord').textContent = games.clicker.record || 0;
            document.getElementById('pokerBank').textContent = games.poker.balance || 500;
        }
        
        function showMessage(text) {
            // –ü—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            alert(text);
        }
        
        function showComingSoon() {
            showMessage('üéÆ –≠—Ç–∞ –∏–≥—Ä–∞ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞!');
        }
    </script>
</body>
</html>
